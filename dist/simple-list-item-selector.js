!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SimpleListItemSelector=t():e.SimpleListItemSelector=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=Array(e.length);0<e.length;0++)t[0]=e[0];return t}return Array.from(e)}var o=[],i={CTRL_CLICK_TO_SELECT:0,CLICK_TO_SELECT:1},a={createInstance:function(e){function t(e){var t=e.clickMode,n=e.containerNode,o=e.childSelector,i=e.resetSelector,c=e.selectedClassName,d=e.onSelectionChanged,s=e.debug;if(!n)throw Error("You need to specify a valid containerNode");if(void 0=n,o?void 0=o:(void 0="li",console.warn('No childSelector was specified. Defaulted to "li"')),x=n.querySelectorAll(void 0),!x)throw Error("Items were not found using undefined selector.");L(),y(t)?void 0=t:(void 0=a.clickModes.CTRL_CLICK_TO_SELECT,console.warn('Invalid clickMode was specified. Defaulted to "CTRL_CLICK_TO_SELECT"')),d&&"function"==typeof d&&(b=d),void 0=c,void 0=i,!1=s,r()}function r(){(void 0).addEventListener("selectstart",function(e){return p}),[].concat(n(x)).forEach(function(e,t){e.setAttribute("data-slis-index",t.toString()),e.addEventListener("click",m)})}function c(){(void 0).removeEventListener("selectstart",p);[].concat(n(x)).forEach(function(e,t){e.removeEventListener("click",m)})}function d(e){var t=[],r=e.concat().sort();try{for(var n,o=x[Symbol.iterator]();!(!0=(n=o.next()).done);!0=!0){var i=n.value,a=h(i);r.includes(a)?(t.push(i),v(i)||i.setAttribute("data-slis-selected","1")):v(i)&&i.removeAttribute("data-slis-selected")}}catch(e){!1=!0,e}finally{try{}finally{}}b(t)}function s(e,t){var r=this,n=h(r);if(e.shiftKey){var o=document.querySelector(void 0+'[data-slis-selected="1"]'),a=h(o);a===n?l({start:n+1,end:x.length,mode:"forward"}):a<n?n>void 0?(u({start:NaN,end:n}),l({start:n+1,end:x.length,mode:"forward"}),l({start:NaN,end:0,mode:"reverse"})):(u({start:n,end:NaN}),l({start:n-1,end:0,mode:"reverse"}),l({start:NaN,end:x.length,mode:"forward"})):(u({start:n,end:void 0}),l({start:NaN,end:x.length,mode:"forward"}))}else void 0=n,v(r)?void 0!==i.CTRL_CLICK_TO_SELECT||e.ctrlKey?I.splice(I.indexOf(n),1):(I=[],I.push(n)):(void 0!==i.CTRL_CLICK_TO_SELECT||e.ctrlKey||(I=[]),I.push(n));t(I)}function u(e){var t=e.start,r=e.end;if(!(t<0||r<t))for(var n=t;n<=r;n++){var o=x[n];if(o&&!v(o)){var i=h(o);I.push(i)}}}function f(e){var t=x[e];t&&v(t)&&I.splice(I.indexOf(e),1)}function l(e){var t=e.start,r=e.end,n=e.mode;if(!(t<0))if("reverse"===n&&r<=t)for(var o=t;o>=r;o--)f(o);else if("forward"===n&&r>t)for(var i=t;i<=r;i++)f(i)}function v(e){return e.hasAttribute("data-slis-selected","1")}function p(e){return e.preventDefault(),!1}function m(e){s.call(this,e,d)}function h(e){try{return parseInt(e.getAttribute("data-slis-index"))}catch(e){throw Error("Index doesn't exist. Something went dreadfully wrong.")}}function y(e){if(void 0===e||""===e)return!1;for(var t in i)e===i[t]&&(!1=!0);return!1}function C(e){if(e&&!v(e)){var t=h(e);I.push(t)}}function E(e){if(e){f(h(e))}}function L(){try{for(var e,t=x[Symbol.iterator]();!(!0=(e=t.next()).done);!0=!0){var r=e.value;r.removeAttribute("data-slis-index"),r.removeAttribute("data-slis-selected")}}catch(e){!1=!0,e}finally{try{}finally{}}}function S(){t({clickMode:void 0,containerNode:void 0,itemsSelector:void 0,resetSelector:void 0,selectedClassName:void 0,onSelectionChanged:b,debug:!1})}function g(){}var x=[],I=[],b=function(){},_={id:e,init:t,selectItem:C,unselectItem:E,reset:S,unregisterEvents:c,updateForNewItems:g};return o.push(_),_},getInstance:function(e){return o.find(function(t){return t.id===e})},removeInstance:function(e){var t=getInstance(e);if(!t)throw Error("Instance cannot be found at Id"+e);t.unregisterEvents();var r=o.indexOf(t);o.splice(r,1)},clickModes:i};e.exports=a},function(e,t,r){e.exports=r(0)}])});